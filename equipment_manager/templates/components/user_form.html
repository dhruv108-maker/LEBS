<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

<link rel="stylesheet" href="{{ url_for('static', filename='css/user_input_form.css') }}">
<script src="{{ url_for('static', filename='js/user_input_form.js') }}"></script>

<div class="container">
    <div class="form-container">
        <form class="lab-form" method="POST" action="{{ url_for('add_lab_test_request') }}">
            <h2>Book Your Lab Test</h2>
        
            <div class="input-group">
                <label for="test-name">Test Name</label>
                <input type="text" id="test-name" name="test-name" placeholder="Enter test name" required>
            </div>
        
            <div class="input-group">
                <label for="equipment">Equipment</label>
                <input type="text" id="equipment" name="equipment" placeholder="Enter equipment required" required>
            </div>
        
            <div class="input-group">
                <label for="sample">Sample Name</label>
                <input type="text" id="sample" name="sample" placeholder="Enter sample name" required>
            </div>
        
            <div class="input-group">
                <label for="sample-day">Sample Expected Day</label>
                <input type="date" id="sample-day" name="sample-day" required>
            </div>
        
            <div class="input-group">
                <label for="test-method">Test Method</label>
                <select id="test-method" name="test-method" required>
                    <option value="" disabled selected>Select test method</option>
                    <option value="self">Perform by myself</option>
                    <option value="assistant">Lab assistant performs</option>
                </select>
            </div>
        
            <div class="input-group">
                <button type="submit" class="submit-btn">Submit</button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const today = new Date();
    const minDate = today.toISOString().split('T')[0]; // Format as YYYY-MM-DD

    // Initialize Flatpickr
    flatpickr("#sample-day", {
        minDate: minDate,
        dateFormat: "Y-m-d",
        altInput: true,
        altFormat: "F j, Y",
        allowInput: true,
        onReady: function() {
            this.input.setAttribute('placeholder', 'Select a date');
        }
    });
});
</script>
